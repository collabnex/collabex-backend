server:
  address: 0.0.0.0
  port: 8080

spring:
  profiles:
    active: dev

  datasource:
    url: jdbc:mysql://localhost:3306/collabnex?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update # ‚úÖ auto-create / update tables as needed
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true
        jdbc.time_zone: UTC
        show_sql: true # üëÄ optional for debugging queries
    open-in-view: false # üö´ prevents lazy-loading memory leaks

  flyway:
    enabled: false # ‚úÖ disabled during Hibernate schema updates
    locations: classpath:db/migration
    baseline-on-migrate: true

app:
  security:
    jwt:
      issuer: collabnex
      access-token-expiration-minutes: 15
      refresh-token-expiration-days: 30
      secret: zvV8eQkN93@w#tRj!cLzP2nTxhS6uYeM4oQvA1rD9kB7fGxW8n

  cors:
    # ‚úÖ Include localhost + your LAN IP (for testing on phone)
    allowed-origins: >
      http://localhost:8081,
      http://localhost:3000,
      http://192.168.1.46:8081,        # ‚Üê replace with your actual PC IP
      http://192.168.1.7:19006,       # Expo web
      exp://192.168.1.7:19000 ,       # Expo Go app
      http://192.168.1.7:8081
    allowed-methods: "GET,POST,PUT,PATCH,DELETE,OPTIONS"
    allowed-headers: "*"
    allow-credentials: true # ‚úÖ allow cookies / JWTs if needed

aws:
  accessKey: ${AWS_ACCESS_KEY}
  secretKey: ${AWS_SECRET_KEY}
  region: eu-north-1
  s3:
    bucket: nidhi-demo-s3-2025
    presign-expiry-minutes: 10
